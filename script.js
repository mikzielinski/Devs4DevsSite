const content = {
  pl: {
    nav: {
      mission: "Nasza misja",
      events: "Konferencje",
      agenda: "Agenda",
      speakers: "Prelegenci",
      community: "SpoÅ‚ecznoÅ›Ä‡",
      gallery: "Galeria",
      speakerCta: "Prelegent",
      join: "DoÅ‚Ä…cz",
      contact: "Kontakt",
    },
    hero: {
      eyebrow: "Konferencja dla pasjonatÃ³w automatyzacji biznesowej",
      title: "Spotkajmy siÄ™ na Devs4Devs",
      tagline: "Od praktykÃ³w dla praktykÃ³w",
      subtitle:
        "Poznaj nadchodzÄ…ce konferencje, warsztaty i spotkania spoÅ‚ecznoÅ›ci Devs4Devs. ÅÄ…czymy ludzi, ktÃ³rzy projektujÄ…, wdraÅ¼ajÄ… i skalujÄ… automatyzacje biznesowe â€” od RPA, przez integracje systemowe, po nowoczesne rozwiÄ…zania AI i agentic automation.",
      primaryCta: "Zobacz wydarzenia",
      secondaryCta: "ZostaÅ„ partnerem",
    },
    mission: {
      eyebrow: "UiPath Community Poland",
      title: "Nasza misja",
      description:
        "Budujemy przestrzeÅ„ dla praktykÃ³w automatyzacji biznesowej. Skupiamy siÄ™ na realnych wdroÅ¼eniach, architekturze, kompromisach projektowych i doÅ›wiadczeniach z prawdziwych projektÃ³w.",
      whoTitle: "Kim jesteÅ›my",
      whoFlag: "ðŸ‡µðŸ‡±",
      whoBody:
        "Devs4Devs to spoÅ‚ecznoÅ›Ä‡ praktykÃ³w automatyzacji biznesowej, dziaÅ‚ajÄ…ca w ramach UiPath Community Poland. Skupiamy ludzi, ktÃ³rzy na co dzieÅ„ projektujÄ…, wdraÅ¼ajÄ… i skalujÄ… rozwiÄ…zania automatyzacyjne â€” od RPA i integracji systemowych po nowoczesne rozwiÄ…zania oparte o AI. Stawiamy na realne doÅ›wiadczenia, merytorycznÄ… wymianÄ™ wiedzy i wspÃ³Å‚pracÄ™ opartÄ… na praktyce, nie teorii.",
      partnersTitle: "Partnerzy i wspÃ³Å‚praca",
      partnersBody: "Tu damy loga firm, ktÃ³re nas hostowaÅ‚y.",
      partnersPlaceholder: "Logo partnera",
      citiesTitle: "Miasta",
      citiesBody:
        "Warszawa, KrakÃ³w, WrocÅ‚aw, ÅÃ³dÅº â€” spotykamy siÄ™ tam, gdzie realnie dzieje siÄ™ automatyzacja.",
      citiesMarkers: {
        warsaw: "Warszawa",
        krakow: "KrakÃ³w",
        wroclaw: "WrocÅ‚aw",
        lodz: "ÅÃ³dÅº",
      },
      mapHint: "Kliknij miasto, aby zobaczyÄ‡ wydarzenia UiPath Community.",
      mapSelectedLabel: "Wybrane miasto:",
      mapCta: "OtwÃ³rz stronÄ™ wydarzeÅ„",
    },
    events: {
      eyebrow: "NadchodzÄ…ce wydarzenia",
      title: "Harmonogram konferencji",
      description:
        "Konferencje, meetupy i community days Devs4Devs. Wiedza praktyczna, bez marketingowych slajdÃ³w.",
    },
    agenda: {
      eyebrow: "Na czym siÄ™ skupiamy",
      title: "Agenda oparta na praktyce",
      items: [
        {
          title: "Business Automation",
          body: "RPA, agentic automation i automatyzacja procesÃ³w end-to-end.",
        },
        {
          title: "Architektura & Integracje",
          body: "API, systemy enterprise i skalowanie rozwiÄ…zaÅ„.",
        },
        {
          title: "AI w praktyce",
          body: "Dokumenty, agenci, orkiestracja i realne use caseâ€™y.",
        },
        {
          title: "SpoÅ‚ecznoÅ›Ä‡ & rozwÃ³j",
          body: "Kariera, kompetencje i wymiana doÅ›wiadczeÅ„.",
        },
      ],
    },
    speakers: {
      eyebrow: "Praktycy z rynku",
      title: "Prelegenci Devs4Devs",
      description:
        "Zapraszamy osoby, ktÃ³re na co dzieÅ„ projektujÄ…, wdraÅ¼ajÄ… i utrzymujÄ… automatyzacje.",
    },
    community: {
      eyebrow: "SpoÅ‚ecznoÅ›Ä‡",
      title: "Dlaczego Devs4Devs?",
      description:
        "JesteÅ›my spoÅ‚ecznoÅ›ciÄ… praktykÃ³w. Stawiamy na merytorykÄ™, otwartoÅ›Ä‡ i realne rozmowy o wyzwaniach.",
      items: [
        {
          title: "Networking, ktÃ³ry dziaÅ‚a",
          body: "Tematyczne rozmowy, spotkania 1:1 i after-eventy.",
        },
        {
          title: "Prelegenci z praktykÄ…",
          body: "Case studies z prawdziwych projektÃ³w.",
        },
        {
          title: "MateriaÅ‚y po wydarzeniach",
          body: "Nagrania, slajdy i podsumowania w jednym miejscu.",
        },
      ],
    },
    gallery: {
      eyebrow: "Galeria",
      title: "Chwile z naszych spotkaÅ„",
      description:
        "ZdjÄ™cia z wydarzeÅ„ Devs4Devs i UiPath Community Poland.",
    },
    speakerCta: {
      title: "ZostaÅ„ prelegentem",
      body:
        "Masz praktyczny case z automatyzacji biznesowej? Oddajemy scenÄ™ praktykom.",
      cta: "ZgÅ‚oÅ› temat",
    },
    contact: {
      title: "ZostaÅ„ partnerem Devs4Devs",
      body:
        "WspÃ³Å‚twÃ³rz wydarzenia community i dotrzyj do praktykÃ³w automatyzacji.",
      cta: "Skontaktuj siÄ™ z nami",
    },
    join: {
      title: "DoÅ‚Ä…cz do Devs4Devs",
      body:
        "JeÅ›li pracujesz z automatyzacjÄ…, RPA lub AI â€” jesteÅ› w dobrym miejscu.",
      cta: "DoÅ‚Ä…cz teraz",
    },
    footer: {
      tagline: "SpoÅ‚ecznoÅ›Ä‡ praktykÃ³w automatyzacji biznesowej.",
      copy: "Â© 2024 Devs4Devs. Wszelkie prawa zastrzeÅ¼one.",
    },
  },

  en: {
    nav: {
      mission: "Our mission",
      events: "Events",
      agenda: "Agenda",
      speakers: "Speakers",
      community: "Community",
      gallery: "Gallery",
      speakerCta: "Become a speaker",
      join: "Join",
      contact: "Contact",
    },
    hero: {
      eyebrow: "A conference for business automation enthusiasts",
      title: "Meet us at Devs4Devs",
      tagline: "By practitioners, for practitioners",
      subtitle:
        "Discover upcoming Devs4Devs conferences, workshops, and community meetups. We bring together people who design, implement, and scale business automation solutions.",
      primaryCta: "View events",
      secondaryCta: "Become a partner",
    },
    mission: {
      eyebrow: "UiPath Community Poland",
      title: "Our mission",
      description:
        "We build a space for business automation practitioners, focused on real implementations, architecture decisions, and project trade-offs.",
      whoTitle: "Who we are",
      whoFlag: "ðŸ‡¬ðŸ‡§",
      whoBody:
        "Devs4Devs is a community of business automation practitioners operating within UiPath Community Poland. We bring together people who design, implement, and scale automation solutions on a daily basis â€” from RPA and system integrations to modern AI-driven automation. Our focus is on real-world experience, practical knowledge sharing, and collaboration grounded in hands-on work, not theory.",
      partnersTitle: "Partners & collaboration",
      partnersBody: "We will showcase logos of the companies that hosted us.",
      partnersPlaceholder: "Partner logo",
      citiesTitle: "Cities",
      citiesBody:
        "Warsaw, Krakow, Wroclaw, Lodz â€” we meet where automation happens.",
      citiesMarkers: {
        warsaw: "Warsaw",
        krakow: "Krakow",
        wroclaw: "Wroclaw",
        lodz: "Lodz",
      },
      mapHint: "Click a city to see UiPath Community events.",
      mapSelectedLabel: "Selected city:",
      mapCta: "Open events page",
    },
    events: {
      eyebrow: "Upcoming events",
      title: "Conference schedule",
      description:
        "Conferences, meetups, and community days focused on practical automation.",
    },
    agenda: {
      eyebrow: "Our focus",
      title: "Practice-driven agenda",
      items: [
        {
          title: "Business Automation",
          body: "RPA, agentic automation, and end-to-end processes.",
        },
        {
          title: "Architecture & Integrations",
          body: "APIs, enterprise systems, and scaling solutions.",
        },
        {
          title: "AI in practice",
          body: "Documents, agents, orchestration, real use cases.",
        },
        {
          title: "Community & growth",
          body: "Careers, skills, and knowledge sharing.",
        },
      ],
    },
    speakers: {
      eyebrow: "Practitioners",
      title: "Devs4Devs speakers",
      description:
        "We invite people who build and maintain automation solutions every day.",
    },
    community: {
      eyebrow: "Community",
      title: "Why Devs4Devs?",
      description:
        "A practitioner-driven community focused on meaningful discussions.",
      items: [
        {
          title: "Effective networking",
          body: "Focused conversations and post-event meetups.",
        },
        {
          title: "Experienced speakers",
          body: "Case studies from real projects.",
        },
        {
          title: "Post-event materials",
          body: "Access to recordings and slides.",
        },
      ],
    },
    gallery: {
      eyebrow: "Gallery",
      title: "Moments from our events",
      description: "Photos from Devs4Devs community events.",
    },
    speakerCta: {
      title: "Become a speaker",
      body:
        "Have a real automation case to share? We give the stage to practitioners.",
      cta: "Submit a topic",
    },
    contact: {
      title: "Become a Devs4Devs partner",
      body:
        "Co-create community events and reach automation practitioners.",
      cta: "Contact us",
    },
    join: {
      title: "Join Devs4Devs",
      body:
        "If you work with automation, RPA, or AI â€” this is your place.",
      cta: "Join now",
    },
    footer: {
      tagline: "A community of business automation practitioners.",
      copy: "Â© 2024 Devs4Devs. All rights reserved.",
    },
  },
};

const data = {
  metrics: [
    { value: "4", label: { pl: "edycje wydarzeÅ„", en: "event editions" } },
    { value: "4", label: { pl: "miasta", en: "cities" } },
    { value: "400+", label: { pl: "uczestnikÃ³w", en: "participants" } },
    { value: "30+", label: { pl: "prelegentÃ³w", en: "speakers" } },
    { value: "25+", label: { pl: "prelekcji i paneli", en: "talks & panels" } },
  ],
};

const metricsGrid = document.querySelector("#hero-metrics");
const langToggle = document.querySelector("#lang-toggle");
const mapMarkers = document.querySelectorAll(".map-marker");
const mapSelectedCity = document.querySelector("#map-selected-city");

let currentLang = "pl";
let activeCity = "warsaw";

const setText = (key, value) => {
  document.querySelectorAll(`[data-i18n="${key}"]`).forEach((el) => {
    el.textContent = value;
  });
};

const applyTranslations = () => {
  const t = content[currentLang];

  Object.entries(t.nav).forEach(([k, v]) => setText(`nav.${k}`, v));
  Object.entries(t.hero).forEach(([k, v]) => setText(`hero.${k}`, v));
  Object.entries(t.mission).forEach(([k, v]) => {
    if (k === "citiesMarkers") {
      Object.entries(v).forEach(([cityKey, cityLabel]) => {
        setText(`mission.citiesMarkers.${cityKey}`, cityLabel);
      });
    } else {
      setText(`mission.${k}`, v);
    }
  });
  Object.entries(t.events).forEach(([k, v]) => setText(`events.${k}`, v));
  Object.entries(t.speakers).forEach(([k, v]) => setText(`speakers.${k}`, v));
  Object.entries(t.community).forEach(([k, v]) => {
    if (k === "items") {
      v.forEach((item, i) => {
        setText(`community.items.${i}.title`, item.title);
        setText(`community.items.${i}.body`, item.body);
      });
    } else {
      setText(`community.${k}`, v);
    }
  });
  Object.entries(t.gallery).forEach(([k, v]) => setText(`gallery.${k}`, v));
  Object.entries(t.speakerCta).forEach(([k, v]) => setText(`speakerCta.${k}`, v));
  Object.entries(t.contact).forEach(([k, v]) => setText(`contact.${k}`, v));
  Object.entries(t.join).forEach(([k, v]) => setText(`join.${k}`, v));
  Object.entries(t.footer).forEach(([k, v]) => setText(`footer.${k}`, v));

  renderMetrics();
  updateActiveCity(activeCity);
  if (langToggle) langToggle.textContent = currentLang === "pl" ? "EN" : "PL";
};

const renderMetrics = () => {
  if (!metricsGrid) return;
  metricsGrid.innerHTML = data.metrics
    .map(
      (m) => `
      <div>
        <span class="metric">${m.value}</span>
        <span class="metric-label">${m.label[currentLang]}</span>
      </div>
    `
    )
    .join("");
};

const updateActiveCity = (cityKey) => {
  if (!mapSelectedCity) return;
  const label = content[currentLang]?.mission?.citiesMarkers?.[cityKey];
  if (label) {
    mapSelectedCity.textContent = label;
  }
  mapMarkers.forEach((marker) => {
    marker.classList.toggle("is-active", marker.dataset.city === cityKey);
  });
};

if (mapMarkers.length) {
  mapMarkers.forEach((marker) => {
    marker.addEventListener("click", () => {
      const cityKey = marker.dataset.city;
      if (cityKey) {
        activeCity = cityKey;
        updateActiveCity(activeCity);
      }
    });
  });
}

if (langToggle) {
  langToggle.addEventListener("click", () => {
    currentLang = currentLang === "pl" ? "en" : "pl";
    applyTranslations();
  });
}

applyTranslations();
